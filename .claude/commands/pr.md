# プルリクエスト作成コマンド

既にコミット＆プッシュ済みの変更に対して、プルリクエストを作成してください。

## ステップ1: 状態確認

以下を確認してください：
1. 現在のブランチ名
2. リモートブランチとの同期状態
3. base branchからの変更内容

**確認コマンド:**
```bash
git branch --show-current
git status
git log origin/main..HEAD --oneline
```

## ステップ2: 変更内容の分析

以下を分析してください：
1. コミット履歴（`git log origin/main..HEAD`）
2. ファイルの変更差分（`git diff origin/main...HEAD --stat`）
3. 主要な変更内容

## ステップ3: PRタイトルとボディの作成

**PRタイトル:**
- 最新のコミットメッセージの1行目を基本として使用
- 複数の機能がある場合は、要約を作成
- 50-70文字程度

**PRボディ:**
```markdown
## 📋 概要

[この変更の目的と背景を簡潔に説明]

## ✨ 変更内容

- [ ] 変更内容1の説明
- [ ] 変更内容2の説明
- [ ] 変更内容3の説明

## 🔧 主な変更ファイル

- `ファイル名1` - 変更内容の説明
- `ファイル名2` - 変更内容の説明
- `ファイル名3` - 変更内容の説明

## ✅ テスト

- [ ] ローカル環境でテスト済み
- [ ] ビルドが成功することを確認
- [ ] 既存機能に影響がないことを確認
- [ ] 追加したテストが全てパス

## 📸 スクリーンショット（UI変更がある場合）

[必要に応じてスクリーンショットを追加]

## 🔗 関連Issue

Closes #[Issue番号]

## 📝 レビュー時の確認ポイント

- [ ] コードスタイルが統一されているか
- [ ] エラーハンドリングが適切か
- [ ] パフォーマンスへの影響は許容範囲か
- [ ] セキュリティ上の問題はないか

## 🚀 デプロイ後の確認事項

- [ ] [確認事項1]
- [ ] [確認事項2]

---

🤖 Generated with [Claude Code](https://claude.com/claude-code)
```

## ステップ4: PR作成の実行

`gh pr create`コマンドを使用してPRを作成してください：

```bash
gh pr create \
  --title "PRタイトル" \
  --body "$(cat <<'EOF'
[上記で作成したPRボディ]
EOF
)"
```

**オプション:**
- `--base main` - ベースブランチを指定（デフォルト: main）
- `--draft` - ドラフトPRとして作成
- `--assignee @me` - 自分をアサイン
- `--label "enhancement"` - ラベルを追加

## ステップ5: PR URLの表示

PR作成が成功したら、以下を表示してください：
- PRの番号
- PRのURL
- PRのステータス

## エラーハンドリング

**よくあるエラー:**

1. **ブランチがリモートにない**
   ```
   エラー: リモートブランチが存在しません
   解決: git push -u origin [ブランチ名] を実行
   ```

2. **変更がない**
   ```
   エラー: base branchとの差分がありません
   解決: 新しい変更をコミット＆プッシュしてください
   ```

3. **gh コマンドが未認証**
   ```
   エラー: GitHub認証が必要です
   解決: gh auth login を実行してください
   ```

## 使用例

**基本的な使用:**
```
/pr
```

**ドラフトPRとして作成:**
PRボディに `--draft` オプションを追加してください

**特定のベースブランチに対して:**
PRボディに `--base develop` オプションを追加してください
