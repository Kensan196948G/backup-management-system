# ========================================
# 3-2-1-1-0 Backup Management System
# 本番環境設定ファイル (.env.production)
# ========================================

# Flask環境設定
FLASK_ENV=production
# セキュリティ: 本番環境では必ず強力なランダム文字列に変更してください
SECRET_KEY=change-this-to-random-secret-key-min-50-chars-recommended

# データベース設定
# Windows: sqlite:///C:/BackupSystem/data/backup_mgmt.db
# Linux: sqlite:////var/lib/backup-system/data/backup_mgmt.db
DATABASE_URL=sqlite:///C:/BackupSystem/data/backup_mgmt.db

# サーバー設定
SERVER_HOST=0.0.0.0
SERVER_PORT=5000

# アプリケーション設定
APP_NAME=3-2-1-1-0 Backup Management System
APP_VERSION=1.0.0
APP_TIMEZONE=Asia/Tokyo

# セキュリティ設定
# セッションタイムアウト（秒）
PERMANENT_SESSION_LIFETIME=3600
# CSRF保護
WTF_CSRF_ENABLED=true
# クッキーセキュリティ（HTTPSの場合はtrueに）
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax

# ログ設定
LOG_LEVEL=INFO
LOG_FILE=logs/app.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=10

# ========================================
# メール通知設定（オプション）
# ========================================
# SMTP設定
# MAIL_SERVER=smtp.gmail.com
# MAIL_PORT=587
# MAIL_USE_TLS=true
# MAIL_USE_SSL=false
# MAIL_USERNAME=backup-system@example.com
# MAIL_PASSWORD=your-app-specific-password
# MAIL_DEFAULT_SENDER=backup-system@example.com

# 受信者設定
# MAIL_ADMIN_RECIPIENTS=admin@example.com,admin2@example.com

# 通知条件
# MAIL_NOTIFY_ON_ERROR=true
# MAIL_NOTIFY_ON_WARNING=true
# MAIL_NOTIFY_ON_SUCCESS=false

# ========================================
# Microsoft Teams通知設定（オプション）
# ========================================
# Webhook URL
# TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx@xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/IncomingWebhook/xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# 通知条件
# TEAMS_NOTIFY_ON_ERROR=true
# TEAMS_NOTIFY_ON_WARNING=true
# TEAMS_NOTIFY_ON_SUCCESS=false
# TEAMS_NOTIFY_ON_DAILY_REPORT=true

# カスタムメッセージ設定
# TEAMS_MENTION_ON_ERROR=true
# TEAMS_CHANNEL_NAME=Backup Monitoring

# ========================================
# バックアップルール設定
# ========================================
# 3-2-1-1-0ルールの閾値設定
RULE_MIN_COPIES=3
RULE_MIN_MEDIA_TYPES=2
RULE_MIN_OFFSITE_LOCATIONS=1
RULE_MIN_OFFLINE_COPIES=1
RULE_MAX_RESTORE_ERRORS=0

# 警告閾値（日数）
WARNING_THRESHOLD_DAYS=7
CRITICAL_THRESHOLD_DAYS=14

# ========================================
# レポート設定
# ========================================
# レポート生成設定
REPORT_OUTPUT_DIR=reports
REPORT_RETENTION_DAYS=90

# 自動レポート生成（cron設定が必要）
# AUTO_GENERATE_DAILY_REPORT=true
# DAILY_REPORT_TIME=09:00

# ========================================
# データベースバックアップ設定
# ========================================
# データベース自動バックアップ
DB_BACKUP_ENABLED=true
DB_BACKUP_DIR=data/backups
DB_BACKUP_RETENTION_DAYS=30
DB_BACKUP_SCHEDULE=0 2 * * *

# ========================================
# パフォーマンス設定
# ========================================
# ページネーション
ITEMS_PER_PAGE=20
MAX_ITEMS_PER_PAGE=100

# キャッシュ設定
# CACHE_TYPE=simple
# CACHE_DEFAULT_TIMEOUT=300

# ========================================
# 開発・デバッグ設定（本番環境では無効化）
# ========================================
DEBUG=false
TESTING=false
FLASK_DEBUG=0

# SQLAlchemyエコー（SQLログ出力）
SQLALCHEMY_ECHO=false

# プロファイリング
PROFILE=false

# ========================================
# リバースプロキシ設定（nginx等を使用する場合）
# ========================================
# PREFERRED_URL_SCHEME=https
# PROXY_FIX_ENABLED=true
# PROXY_FIX_X_FOR=1
# PROXY_FIX_X_PROTO=1
# PROXY_FIX_X_HOST=1
# PROXY_FIX_X_PORT=1
# PROXY_FIX_X_PREFIX=1

# ========================================
# カスタム設定
# ========================================
# 組織名
# ORGANIZATION_NAME=Your Organization Name

# サポート連絡先
# SUPPORT_EMAIL=support@example.com
# SUPPORT_PHONE=+81-3-1234-5678

# システムURL（メール通知等で使用）
# SYSTEM_URL=http://192.168.3.135:5000

# ========================================
# 注意事項
# ========================================
# 1. SECRET_KEYは必ず変更してください
#    生成例: python -c "import secrets; print(secrets.token_urlsafe(50))"
#
# 2. 本番環境ではHTTPSを使用することを強く推奨します
#
# 3. データベースのバックアップを定期的に取得してください
#
# 4. .envファイルは.gitignoreに追加し、Gitリポジトリにコミットしないでください
#
# 5. パスワード等の機密情報は環境変数やシークレット管理ツールで管理してください
